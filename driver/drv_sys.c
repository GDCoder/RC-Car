/***************************************************************************
	(C)Copyright Logic Inc. 2008, Logic all rights reserved.

	Product	: STC MCU Firmware
	Date		: 2009.03.26
	Purpose	: 
	Sources	: drv_sys.c
***************************************************************************/

//Modification use :
/***************************************************************************
	Update

	Date  	: 2009.03.26
	Name	: Logic
	Description	: 

	Item			                  Source
	----------------------------------------		-------------------
	. create 					            drv_sys.c
***************************************************************************/
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <stc15.h>
#include "drv_sys.h"

/*****************************************************************************
 Constants   宏定义
*****************************************************************************/


/*****************************************************************************
 Struct
*****************************************************************************/


/*****************************************************************************
 Global Data
*****************************************************************************/


/*****************************************************************************
 Extern functions
*****************************************************************************/


/*****************************************************************************
 Local variables 
*****************************************************************************/


/*****************************************************************************
 Local functions
*****************************************************************************/


/*****************************************************************************
 implement begin 
*****************************************************************************/
void DRV_Sys_IntEnable(bool bEnable)
{
	if(TRUE ==bEnable)
	{
		EA = TRUE;
	}
	else
	{
		EA = FALSE;
	}
}

void DRV_Sys_Init(void)
{
	//初始化IO
	DRV_IO_Init();

	//初始化Ext Int0-1
	DRV_ExtenInt0_Init();
	DRV_ExtenInt1_Init();

	//初始化Timer0-3
	DRV_Timer0_Init();
	DRV_Timer1_Init();
	DRV_Timer2_Init();
	DRV_Timer3_Init();

	//初始化串口
	#ifdef SERIAL_ENABLE
		DRV_Serial_Init();
	#endif
}

